var K=Object.defineProperty;var W=(o,s,r)=>s in o?K(o,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[s]=r;var M=(o,s,r)=>W(o,typeof s!="symbol"?s+"":s,r);import{j as e,K as C,r as c,S as k,$ as G}from"./app-BVYNLR-_.js";import{i as J,a as p,S as O,j as Q}from"./sweetalert2.esm.all-K5NXPlLw.js";import{c as f}from"./createLucideIcon-DaoKx46w.js";import{U as Y,C as Z,S as H}from"./users-CwK8ZoTu.js";import{a as ee,B as te,S as se,X as $}from"./x-qbPulonp.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ae=f("ChevronDown",ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],oe=f("Clock",re);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],U=f("LayoutGrid",ie);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],X=f("LogOut",le);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],de=f("Menu",ce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],xe=f("Music",ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pe=f("Target",he);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],me=f("User",fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ye=f("Volume2",ge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],be=f("VolumeX",we);function ve({variant:o="header",children:s,...r}){return o==="sidebar"?e.jsx(J,{...r,children:s}):e.jsx("main",{className:"mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",...r,children:s})}function je(o){const s=document.cookie.match(new RegExp("(?:^|; )"+o.replace(/[-.$?*|{}()[\]\\/+^]/g,"\\$&")+"=([^;]*)"));return s?decodeURIComponent(s[1]):null}function Ne(o,s){if(s.startsWith("http"))return s;if(!o)return s.startsWith("/")?s:"/"+s;const r=o.endsWith("/")?o.slice(0,-1):o,t=s.startsWith("/")?s:"/"+s;return r+t}class ke{constructor(s=""){M(this,"baseURL");M(this,"csrfReady",!1);this.baseURL=s||(typeof window<"u"?window.location.origin:"")}xsrfHeader(){const s=je("XSRF-TOKEN");return s?{"X-XSRF-TOKEN":s}:{}}async ensureCsrfCookie(s=!1){if(!(this.csrfReady&&!s))try{await fetch("/sanctum/csrf-cookie",{credentials:"include"})}catch{await fetch("/",{credentials:"include"})}finally{this.csrfReady=!0}}async request(s,r={}){var x;const t=(r.method||"GET").toUpperCase(),n=t==="GET"||t==="HEAD";try{n||await this.ensureCsrfCookie();const d={Accept:"application/json","X-Requested-With":"XMLHttpRequest",...this.xsrfHeader()};r.body instanceof FormData||(d["Content-Type"]=((x=r.headers)==null?void 0:x["Content-Type"])||"application/json");const h={...d,...r.headers||{}},g=Ne(this.baseURL,s),i={method:t,headers:h,credentials:"include",...r};let l=await fetch(g,i);l.status===419&&!i.__isRetry&&(await this.ensureCsrfCookie(!0),i.__isRetry=!0,i.headers={...h,...this.xsrfHeader()},l=await fetch(g,i));const u=(l.headers.get("content-type")||"").includes("application/json")?await l.json():await l.text();return l.ok?typeof u=="object"?u:{success:!0,data:u}:l.status===419?{success:!1,message:"CSRF token mismatch or session expired (419). Please try again."}:l.status===422&&typeof u=="object"&&u.errors?{success:!1,errors:u.errors,message:u.message||"Validation failed"}:{success:!1,message:typeof u=="object"&&u.message||`HTTP ${l.status}: ${l.statusText}`}}catch(d){return console.error("API request failed:",d),{success:!1,message:d instanceof Error?d.message:"Network error occurred"}}}async get(s,r){let t=s;if(r){const n=new URLSearchParams(Object.entries(r).reduce((x,[d,h])=>(h!=null&&(x[d]=String(h)),x),{})).toString();n&&(t+=(s.includes("?")?"&":"?")+n)}return this.request(t,{method:"GET"})}async post(s,r){return this.request(s,{method:"POST",body:r instanceof FormData?r:r?JSON.stringify(r):void 0})}async put(s,r){return this.request(s,{method:"PUT",body:r instanceof FormData?r:r?JSON.stringify(r):void 0})}async patch(s,r){return this.request(s,{method:"PATCH",body:r instanceof FormData?r:r?JSON.stringify(r):void 0})}async delete(s){return this.request(s,{method:"DELETE"})}async upload(s,r){return this.request(s,{method:"POST",body:r})}}const z=new ke,Ce=o=>o?o.split("?")[0]:typeof window<"u"?window.location.pathname:"/",Ee=o=>Math.floor(Number(o||0)/10)+1,P=({href:o,children:s,...r})=>{const t=n=>{if(window.__modalOpen){n.preventDefault(),n.stopPropagation();return}if(n.button!==0||n.ctrlKey||n.metaKey||n.shiftKey||n.altKey){n.preventDefault(),n.stopPropagation();return}};return e.jsx(G,{href:o,onClick:t,onAuxClick:n=>{n.preventDefault(),n.stopPropagation()},onMouseDown:n=>{n.button!==0&&(n.preventDefault(),n.stopPropagation())},onContextMenu:n=>{n.preventDefault(),n.stopPropagation()},draggable:!1,...r,children:s})},Se=({label:o,children:s})=>e.jsxs("div",{className:"group relative",title:o,children:[s,e.jsx("div",{className:"pointer-events-none absolute left-12 top-1/2 -translate-y-1/2 whitespace-nowrap rounded-md bg-slate-800/95 text-[10px] text-white px-2 py-1 opacity-0 shadow-lg ring-1 ring-slate-700 transition group-hover:opacity-100 hidden xl:block",children:o})]});function _e({hidden:o=!1}){const s=C(),{auth:r}=s.props||{},t=r==null?void 0:r.user,n=(t==null?void 0:t.role)==="admin",d=(typeof window<"u"?window.location.pathname:"")||(s==null?void 0:s.url)||"",h=/^\/play\/m(atch)?\/.+/i.test(d);if(o||h)return null;const g=t!=null&&t.avatar_url?t.avatar_url.startsWith("/")?t.avatar_url:"/"+t.avatar_url:"/avatars/default.png",i=Number((t==null?void 0:t.total_xp)??0),l=Ee(i),y=Number((t==null?void 0:t.stars)??0),[w,u]=c.useState(!1),[A,T]=c.useState(!1),E=c.useRef(null),[v,S]=c.useState(!!(t!=null&&t.sound_enabled)),[_,L]=c.useState(!!(t!=null&&t.music_enabled));c.useEffect(()=>{S(!!(t!=null&&t.sound_enabled)),L(!!(t!=null&&t.music_enabled))},[t==null?void 0:t.sound_enabled,t==null?void 0:t.music_enabled]);const F=async()=>{const a=!v;S(a),p.setSoundEnabled(a);try{await z.patch((route==null?void 0:route("me.preferences.update"))??"/me/preferences",{sound_enabled:a?1:0}),k.reload({only:["auth"]}),p.play("click")}catch{S(!a)}},I=async()=>{const a=!_;L(a),p.setMusicEnabled(a);try{window.dispatchEvent(new CustomEvent("app:music-setting",{detail:{enabled:a}}))}catch{}try{await z.patch((route==null?void 0:route("me.preferences.update"))??"/me/preferences",{music_enabled:a?1:0}),k.reload({only:["auth"]}),p.play("click")}catch{L(!a),p.setMusicEnabled(!a);try{window.dispatchEvent(new CustomEvent("app:music-setting",{detail:{enabled:!a}}))}catch{}}};c.useEffect(()=>{const a=m=>{E.current&&!E.current.contains(m.target)&&T(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),c.useEffect(()=>{const a=k.on("success",()=>u(!1));return()=>a()},[]),c.useEffect(()=>{const a=m=>{m.key==="Escape"&&u(!1)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[]);const R=async()=>{(await O.fire({title:"Sign Out?",html:'<p class="text-gray-200 text-sm">Are you sure you want to log out of your account?</p>',icon:"warning",background:"#1f2937",color:"#fff",showCancelButton:!0,confirmButtonText:"Yes, Sign Out",cancelButtonText:"Cancel",confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",reverseButtons:!0})).isConfirmed?(p.play("click"),await O.fire({title:"Signing Out...",html:'<p class="text-gray-300 text-sm">Please wait while we securely log you out.</p>',background:"#1f2937",color:"#fff",allowOutsideClick:!1,didOpen:()=>{O.showLoading()}}),k.post("/logout")):p.play("click")},D=c.useMemo(()=>(t==null?void 0:t.role)==="admin"?[{title:"Dashboard",href:"/dashboard",icon:U},{title:"User Management",href:"/admin/users",icon:Y},{title:"Challenge Management",href:"/admin/challenges",icon:Z}]:[{title:"Dashboard",href:"/dashboard",icon:U},{title:"Solo Challenge",href:"/play/solo",icon:pe},{title:"AI Challenges",href:"/play/ai-challenges",icon:ee},{title:"Practice",href:"/play/practice",icon:te},{title:"Invite Duel",href:"/play/duel",icon:se},{title:"Live Duel",href:"/play/Matchmaking",icon:oe},{title:"My Profile",href:"/profile",icon:me}],[t==null?void 0:t.role]),j=Ce(s==null?void 0:s.url),q=a=>j===a||a!=="/"&&(j==null?void 0:j.startsWith(a)),B=()=>e.jsx("aside",{className:["quick-dock fixed left-0 top-0 bottom-0 z-30 hidden lg:flex bg-slate-950/60 backdrop-blur-md border-r border-slate-800/70 shadow-xl w-14 overflow-y-auto overflow-x-hidden overscroll-contain",b?"pointer-events-none opacity-50":""].join(" "),children:e.jsx("div",{className:"pt-18 pb-3 px-2 flex flex-col items-center gap-2 w-full",children:D.map(a=>{const m=a.icon,N=q(a.href);return e.jsx(Se,{label:a.title,children:e.jsx(P,{href:a.href,className:["grid place-items-center w-10 h-10 rounded-xl ring-1 transition",N?"bg-slate-800/70 text-orange-300 ring-orange-500/30 shadow-lg shadow-orange-500/10":"text-slate-300 hover:text-orange-300 hover:bg-slate-800/50 ring-slate-700/60"].join(" "),children:e.jsx(m,{className:"w-5 h-5"})})},a.href)})})}),[b,V]=c.useState(!1);return c.useEffect(()=>{const a=m=>{var N;return V(!!((N=m==null?void 0:m.detail)!=null&&N.open))};return window.addEventListener("app:modal",a),()=>window.removeEventListener("app:modal",a)},[]),e.jsxs(e.Fragment,{children:[e.jsx("header",{className:["bg-slate-950/70 backdrop-blur-md border-b border-slate-800/70 sticky top-0 z-50",b?"pointer-events-none opacity-50":""].join(" "),onContextMenu:a=>{a.preventDefault(),a.stopPropagation()},children:e.jsx("div",{className:"mx-auto max-w-[120rem] px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex h-16 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:"inline-flex p-2 rounded-xl ring-1 ring-slate-700/70 text-slate-200 hover:text-orange-300 hover:bg-slate-800/70 transition",onClick:()=>u(a=>!a),"aria-label":"Toggle navigation",children:w?e.jsx($,{className:"w-6 h-6"}):e.jsx(de,{className:"w-6 h-6"})}),e.jsxs(P,{href:"/dashboard",className:"flex items-center gap-2 group",children:[e.jsx("img",{src:"/images/logo.png",alt:"CODEXP AI Logo",className:"w-7 h-7 sm:w-8 sm:h-8 drop-shadow-[0_0_4px_rgba(255,200,0,0.6)] transition-transform group-hover:scale-110"}),e.jsx("span",{className:"text-lg sm:text-xl font-extrabold tracking-wide text-transparent bg-clip-text bg-gradient-to-r from-orange-400 via-amber-300 to-yellow-300",children:"CODEXP AI"})]})]}),t&&e.jsxs("div",{className:"relative",ref:E,children:[e.jsxs("button",{onClick:()=>T(a=>!a),className:"flex items-center gap-3 p-1.5 rounded-xl text-slate-200 hover:bg-slate-800/60 ring-1 ring-slate-700/60 transition","aria-haspopup":"menu","aria-expanded":A,children:[e.jsx("div",{className:"w-9 h-9 rounded-full overflow-hidden ring-2 ring-orange-400 shadow-md bg-white",children:e.jsx("img",{src:g,alt:"Avatar",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[e.jsx("span",{className:"font-bold text-sm sm:text-base text-white",children:t.username||t.name}),!n&&e.jsxs("span",{className:"text-xs font-semibold text-orange-300",children:["LVL ",l]})]}),e.jsx(ae,{className:"w-4 h-4 text-slate-400"})]}),A&&e.jsxs("div",{className:"absolute right-0 mt-2 w-72 rounded-2xl overflow-hidden bg-slate-900/95 backdrop-blur-md ring-1 ring-slate-700/70 shadow-2xl z-50",children:[e.jsxs("div",{className:"p-4 border-b border-slate-800/80",children:[e.jsx("p",{className:"font-semibold text-white truncate",children:t.username||t.name}),e.jsx("p",{className:"text-xs text-slate-400 truncate",children:t.email}),e.jsx("div",{className:"mt-2 flex items-center gap-2",children:!n&&e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-orange-500/15 text-orange-300 ring-1 ring-orange-500/30",children:["Level ",l]}),e.jsxs("span",{className:"text-[11px] text-slate-400",children:["XP ",i]}),y>=0&&e.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-yellow-400",children:[e.jsx(H,{className:"w-3 h-3"}),e.jsx("span",{children:y})]})]})}),"  "]}),e.jsxs("div",{className:"p-3 flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-m text-slate-400",children:"Audio Settings"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:F,className:["p-2 rounded-xl border transition",v?"bg-green-600 text-white border-green-600":"bg-white/10 text-white border-white/20"].join(" "),title:v?"Sound: On":"Sound: Off",children:v?e.jsx(ye,{className:"w-5 h-5"}):e.jsx(be,{className:"w-5 h-5"})}),e.jsx("button",{onClick:I,className:["p-2 rounded-xl border transition",_?"bg-indigo-600 text-white border-indigo-600":"bg-white/10 text-white border-white/20"].join(" "),title:_?"Music: On":"Music: Off",children:e.jsx(xe,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"px-2 pb-2",children:e.jsxs("button",{onClick:R,className:"w-full flex items-center gap-2 px-3 py-2 rounded-xl text-red-400 hover:text-red-300 hover:bg-red-900/20 transition",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})})]})]})]})})}),e.jsx(B,{}),e.jsx("div",{className:["fixed inset-0 z-40 bg-black/40 backdrop-blur-[1px] transition-opacity lg:hidden",w?"opacity-100":"pointer-events-none opacity-0",b?"pointer-events-none":""].join(" "),onClick:()=>{b||u(!1)},"aria-hidden":!0}),e.jsxs("div",{className:["fixed inset-y-0 left-0 w-80 max-w-[85vw] z-50 transform transition-transform duration-300 ease-in-out",w?"translate-x-0":"-translate-x-full","bg-slate-900/95 backdrop-blur-md border-r border-slate-800/80 shadow-xl","flex flex-col overflow-x-hidden",b?"pointer-events-none opacity-50":""].join(" "),role:"dialog","aria-modal":"true","aria-label":"Navigation",onContextMenu:a=>{a.preventDefault(),a.stopPropagation()},children:[e.jsx("div",{className:"sticky top-0 z-10 flex justify-end px-3 py-2 bg-slate-900/95 backdrop-blur-md border-b border-slate-800/80",children:e.jsxs("button",{onClick:()=>u(!1),className:"inline-flex items-center justify-center h-10 w-10 rounded-xl ring-1 ring-slate-700/60 text-slate-300 hover:text-orange-300 hover:bg-slate-800/40 transition focus:outline-none focus:ring-2 focus:ring-orange-400/40","aria-label":"Close sidebar",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{className:"sr-only",children:"Close"})]})}),t&&e.jsx("div",{className:"p-4 border-b border-slate-800/80",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden ring-2 ring-orange-400 shadow-md bg-white",children:e.jsx("img",{src:g,alt:"Avatar",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-white font-semibold truncate",children:t.username||t.name}),!n&&e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-orange-500/15 text-orange-300 ring-1 ring-orange-500/30",children:["Level ",l]}),e.jsxs("span",{className:"text-[11px] text-slate-400",children:["XP ",i]}),y>=0&&e.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-yellow-400",children:[e.jsx(H,{className:"w-3 h-3"}),e.jsx("span",{children:y})]})]})]})]})}),e.jsx("div",{className:"flex-1 p-3 space-y-1 overflow-y-auto overscroll-contain",children:D.map(a=>e.jsxs(P,{href:a.href,className:["flex items-center gap-3 px-3 py-2 rounded-lg",q(a.href)?"bg-slate-800/60 text-orange-300 ring-1 ring-orange-500/30":"text-slate-200 hover:text-orange-300 hover:bg-slate-800/40"].join(" "),children:[e.jsx(a.icon,{className:"w-5 h-5"}),e.jsx("span",{children:a.title})]},a.href))}),e.jsx("div",{className:"mt-auto p-3 border-t border-slate-800/80",children:e.jsxs("button",{onClick:R,className:"mt-1 w-full flex items-center gap-2 px-3 py-2 rounded-lg text-red-400 hover:text-red-300 hover:bg-red-900/20",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})})]})]})}function Le({children:o,variant:s="header"}){const r=C().props.sidebarOpen;return s==="header"?e.jsx("div",{className:"flex min-h-screen w-full flex-col",children:o}):e.jsx(Q,{defaultOpen:r,children:o})}function Me({children:o,breadcrumbs:s}){var h,g;const{props:r}=C(),t=!!((g=(h=r==null?void 0:r.auth)==null?void 0:h.user)!=null&&g.music_enabled),n=c.useRef(null),x=c.useRef(!1);c.useEffect(()=>{if(!n.current){const i=new Audio("/audio/bgm.mp3");i.loop=!0,i.volume=.3,n.current=i}return()=>{var i;(i=n.current)==null||i.pause()}},[]);const d=async()=>{if(n.current)try{await n.current.play()}catch{if(!x.current){x.current=!0;const i=()=>{var l;(l=n.current)==null||l.play().catch(()=>{}),window.removeEventListener("pointerdown",i),window.removeEventListener("keydown",i)};window.addEventListener("pointerdown",i,{once:!0}),window.addEventListener("keydown",i,{once:!0})}}};return c.useEffect(()=>{n.current&&(t?d():(n.current.pause(),n.current.currentTime=0))},[t]),c.useEffect(()=>{const i=l=>{var w;const y=(w=l.detail)==null?void 0:w.enabled;typeof y!="boolean"||!n.current||(y?d():(n.current.pause(),n.current.currentTime=0))};return window.addEventListener("app:music-setting",i),()=>window.removeEventListener("app:music-setting",i)},[]),e.jsxs(Le,{children:[e.jsx(_e,{breadcrumbs:s}),e.jsx(ve,{children:o})]})}function qe({children:o,breadcrumbs:s,...r}){var x,d;const n=(d=(x=C().props)==null?void 0:x.auth)==null?void 0:d.user;return c.useEffect(()=>{p.init({soundEnabled:!!(n!=null&&n.sound_enabled),musicEnabled:!!(n!=null&&n.music_enabled),musicSrc:"/audio/bgm.mp3"}),p.registerSfx("correct","/sounds/correct.mp3"),p.registerSfx("wrong","/sounds/incorrect.mp3"),p.registerSfx("click","/sounds/click.mp3")},[n==null?void 0:n.sound_enabled,n==null?void 0:n.music_enabled]),e.jsx(Me,{breadcrumbs:s,...r,children:o})}export{qe as A,oe as C,U as L,pe as T,me as U,ye as V,z as a,be as b,ae as c};
