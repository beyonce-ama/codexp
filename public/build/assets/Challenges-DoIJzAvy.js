import{K as He,r as n,j as e,L as Je}from"./app-CZbz5lhp.js";import{a as N,A as Ue,T as M,S as o}from"./app-layout-B3oZMZ1t.js";import{C as I}from"./users-B7l9Kq-H.js";import{S as A,X as R}from"./x-m3Iv89QT.js";import{c as _e}from"./createLucideIcon-BViJ-e3P.js";import{Z as w}from"./zap-DYN59AjC.js";import{P as me}from"./plus-DdrG9FZ9.js";import{C as be}from"./chart-column-BqKvmHj3.js";import{S as fe}from"./search-BpFd4wmy.js";import{F as ye}from"./filter-DUDMWzIw.js";import{R as ee}from"./refresh-cw-DD0Zg9BU.js";import{T as Pe}from"./triangle-alert-l5rtmENr.js";import{E as ve}from"./eye-CAOKoL60.js";import{S as we,T as je}from"./trash-2-y6Dy1pmy.js";import"./utils-jAU0Cazi.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ne=_e("Download",Oe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],z=_e("Upload",Ve),qe={width:640,background:"linear-gradient(180deg, #0E1B2E 0%, #0A1527 100%)",color:"#E6F0FF",showConfirmButton:!0,confirmButtonColor:"#22C55E",customClass:{popup:"swal-neo",title:"swal-title-neo",htmlContainer:"swal-html-neo",confirmButton:"swal-confirm-neo"}},H=h=>({...qe,...h}),Ge=[{title:"Home",href:"/dashboard"},{title:"Admin",href:"/dashboard"},{title:"Challenge Management",href:"/admin/challenges"}],ze=(h,j="slate")=>{const p={blue:"bg-blue-500/10 text-blue-300 border-blue-500/30",green:"bg-green-500/10 text-green-300 border-green-500/30",yellow:"bg-yellow-500/10 text-yellow-300 border-yellow-500/30",red:"bg-red-500/10 text-red-300 border-red-500/30",purple:"bg-purple-500/10 text-purple-300 border-purple-500/30",slate:"bg-white/5 text-slate-300 border-white/10"};return e.jsx("span",{className:`px-2 py-0.5 text-[11px] rounded-md border ${p[j]} inline-flex items-center gap-1`,children:h})};function _({title:h,right:j,children:p,className:y=""}){return e.jsxs("div",{className:y,children:[e.jsx("div",{className:"sticky top-6 z-10 mb-3",children:e.jsxs("div",{className:"flex items-center justify-between bg-slate-900/70 border border-white/10 rounded-xl px-3 py-2 backdrop-blur supports-[backdrop-filter]:bg-slate-900/50",children:[e.jsx("div",{className:"flex items-center gap-2",children:h}),e.jsx("div",{className:"flex items-center gap-2",children:j})]})}),p]})}function u({icon:h,label:j,value:p,tone:y="slate",hint:v}){const Y={blue:"ring-blue-500/20 hover:ring-blue-500/40",green:"ring-green-500/20 hover:ring-green-500/40",yellow:"ring-yellow-500/20 hover:ring-yellow-500/40",red:"ring-red-500/20 hover:ring-red-500/40",purple:"ring-purple-500/20 hover:ring-purple-500/40",slate:"ring-white/10 hover:ring-white/20"};return e.jsx("div",{className:`rounded-xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 transition ring-1 ${Y[y]}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/5",children:e.jsx(h,{className:"h-5 w-5 text-white/90"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-white/60",children:j}),e.jsx("p",{className:"text-2xl font-bold text-white leading-none",children:p})]})]}),v?ze(v,y):null]})})}const Ye={solo:{python:0,java:0,cpp:0,total:0},v1:{python:0,java:0,cpp:0,total:0},soloDiff:{easy:0,medium:0,hard:0},v1Diff:{easy:0,medium:0,hard:0}};function gt(){const{props:h}=He(),j=h==null?void 0:h.activeType,[p,y]=n.useState([]),[v,Y]=n.useState(null),[J,te]=n.useState(!0),[c,Ce]=n.useState("solo"),[m,U]=n.useState(""),[$,le]=n.useState("all"),[E,se]=n.useState("all"),[x,ke]=n.useState(Ye),[Se,T]=n.useState(!1),[Ke,We]=n.useState("fixbugs"),[K,$e]=n.useState("python"),[W,Ee]=n.useState("easy"),[C,P]=n.useState([]),[Z,ae]=n.useState(!1),O=t=>t==="cpp"?"C++":(t??"").toUpperCase();n.useMemo(()=>J?"—":p.length,[J,p.length]);const[Ze,Xe]=n.useState(!0),[V,re]=n.useState(!0),[q,oe]=n.useState(!0);n.useEffect(()=>{D(),X()},[c,m,$,E]);const D=async()=>{try{te(!0);const t=c==="solo"?"/api/challenges/solo":"/api/challenges/1v1",l={};m.trim()&&(l.search=m.trim()),$!=="all"&&(l.language=$),E!=="all"&&(l.difficulty=E);const r=await N.get(t,l);if(r.success){const s=r.data.data||r.data||[];y(s.map(a=>({...a,type:c})))}else y([])}catch(t){console.error("Error fetching challenges:",t),y([])}finally{te(!1)}},X=async()=>{try{const t=await N.get("/dashboard/stats");if(t.success){const l=t.data;Y({total_solo_challenges:l.total_solo_challenges||0,total_1v1_challenges:l.total_1v1_challenges||0,fixbugs_challenges:l.fixbugs_challenges??0,random_challenges:l.random_challenges??0,solo_python_challenges:l.solo_python_challenges??0,solo_java_challenges:l.solo_java_challenges??0,solo_cpp_challenges:l.solo_cpp_challenges??0,duel_python_challenges:l.duel_python_challenges??0,duel_java_challenges:l.duel_java_challenges??0,duel_cpp_challenges:l.duel_cpp_challenges??0,solo_easy:l.solo_easy??0,solo_medium:l.solo_medium??0,solo_hard:l.solo_hard??0,duel_easy:l.duel_easy??0,duel_medium:l.duel_medium??0,duel_hard:l.duel_hard??0}),ke({solo:{python:l.solo_python_challenges??0,java:l.solo_java_challenges??0,cpp:l.solo_cpp_challenges??0,total:l.total_solo_challenges??0},v1:{python:l.duel_python_challenges??0,java:l.duel_java_challenges??0,cpp:l.duel_cpp_challenges??0,total:l.total_1v1_challenges??0},soloDiff:{easy:l.solo_easy??0,medium:l.solo_medium??0,hard:l.solo_hard??0},v1Diff:{easy:l.duel_easy??0,medium:l.duel_medium??0,hard:l.duel_hard??0}})}}catch(t){console.error("Error fetching stats:",t)}},ie=async t=>{if((await o.fire({title:"Delete Challenge?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{const r=c==="solo"?`/api/challenges/solo/${t}`:`/api/challenges/1v1/${t}`;(await N.delete(r)).success&&(y(p.filter(a=>a.id!==t)),X(),o.fire("Deleted!","Challenge has been deleted.","success"))}catch(r){console.error("Error deleting challenge:",r)}},Te=t=>{if(!t)return;if(!t.name.endsWith(".json")){o.fire("Invalid File Type","Please select a JSON file (.json)","error");return}if(t.size>10*1024*1024){o.fire("File Too Large","File size must be less than 10MB","error");return}const l=new FileReader;l.onload=r=>{var s;try{const a=JSON.parse((s=r.target)==null?void 0:s.result);if(Array.isArray(a)){if(a.length===0){o.fire("Empty File","The JSON file contains no challenges.","warning");return}if(a.length>1e3){o.fire("Too Many Items","Maximum 1000 challenges can be imported at once.","error");return}P(a),o.fire({icon:"success",title:"File Loaded",text:`Successfully loaded ${a.length} challenges from ${t.name}`,timer:2e3,showConfirmButton:!1})}else o.fire("Invalid Format","File must contain an array of challenges.","error")}catch(a){console.error("JSON parse error:",a),o.fire("Invalid JSON","Unable to parse JSON file. Please check the file format.","error")}},l.onerror=()=>o.fire("File Read Error","Unable to read the file.","error"),l.readAsText(t)},De=async t=>{if(t.preventDefault(),C.length===0){o.fire("No Data","Please upload a JSON file or paste valid challenge array.","error");return}try{ae(!0);const l=c==="solo"?"/api/challenges/solo/import":"/api/challenges/1v1/import",r=c==="solo"?{mode:"fixbugs",language:K,difficulty:W,items:C,source_file:"manual_import"}:{language:K,difficulty:W,items:C,source_file:"manual_import"},s=await N.post(l,r);s.success?(T(!1),P([]),D(),X(),o.fire({icon:"success",title:"Import Successful!",text:`Successfully imported ${s.count||C.length} challenges.`,timer:3e3,showConfirmButton:!1})):o.fire({icon:"error",title:"Import Failed",text:s.message||"Unknown error occurred during import.",footer:s.errors?`Details: ${JSON.stringify(s.errors)}`:""})}catch(l){console.error("Error importing challenges:",l),o.fire({icon:"error",title:"Network Error",text:"An error occurred while importing challenges. Please check your connection and try again."})}finally{ae(!1)}},ne=()=>Le(c),de=t=>Be(t),ce=t=>Fe(t,c),pe=t=>{const l=c==="solo"?`/admin/challenges/solo/${t}/export`:`/admin/challenges/1v1/${t}/export`;window.open(l,"_blank")},xe=t=>t==="easy"?"bg-green-500/10 text-green-300 border-green-500/30":t==="medium"?"bg-yellow-500/10 text-yellow-300 border-yellow-500/30":t==="hard"?"bg-red-500/10 text-red-300 border-red-500/30":"bg-white/5 text-slate-300 border-white/10",ge=t=>t==="fixbugs"?Pe:t==="random"?w:I,d=t=>String(t??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),B=(t,l)=>`
  <span class="inline-flex items-center gap-2 px-2 py-0.5 rounded-md border border-white/10 bg-white/5 text-slate-200">
    <span class="text-[10px] uppercase tracking-wide opacity-70">${d(t)}</span>
    <span class="font-semibold">${d(l)}</span>
  </span>`,ue=(t,l)=>{const r=`code_${Math.random().toString(36).slice(2)}`;return`
    <div class="rounded-lg border border-cyan-500/30 bg-slate-950/70 p-3">
      <div class="flex items-center justify-between mb-2">
        <div class="text-[10px] uppercase tracking-wide opacity-70">${d(t)}</div>
        <button type="button" class="neo-copy px-2 py-1 text-xs rounded-md border border-cyan-500/30 hover:bg-cyan-500/10 transition" data-target="${r}">
          Copy
        </button>
      </div>
     <pre id="${r}" class="text-[12px] overflow-auto max-h-72 leading-[1.35] text-left whitespace-pre-wrap font-mono"><code>${d(l)}</code></pre>
    </div>`},F=t=>`
  <div class="rounded-xl overflow-hidden border border-white/10 bg-slate-900/80">
    <div class="bg-gradient-to-r from-cyan-600 to-blue-600 px-5 py-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        ${t.icon?`<div class="text-white/90 text-xl">${d(t.icon)}</div>`:""}
        <div>
          <div class="text-white font-semibold">${d(t.title)}</div>
          ${t.subtitle?`<div class="text-white/80 text-xs">${d(t.subtitle)}</div>`:""}
        </div>
      </div>
      ${t.right??""}
    </div>
    <div class="p-4 md:p-5 space-y-4">${t.bodyHTML}</div>
  </div>`,Be=t=>{const r=`
    <div class="space-y-4">
      <div class="flex flex-wrap gap-2">${[t.language?B("Language",O(String(t.language))):"",t.difficulty?B("Difficulty",String(t.difficulty).toUpperCase()):""].filter(Boolean).join(" ")}</div>

      <div class="grid grid-cols-1 md:grid-cols-12 gap-3">
        <div class="md:col-span-5">
          <div class="rounded-lg border border-white/10 bg-white/5 p-3 h-full">
            <div class="text-[10px] uppercase tracking-wide opacity-70 mb-1">Description</div>
            <div class="text-sm leading-relaxed">${d(t.description??"—")}</div>
          </div>
        </div>

        <div class="md:col-span-7 space-y-3">
          ${t.buggy_code?ue("Buggy Code",t.buggy_code):""}
          ${t.fixed_code?ue("Fixed Code",t.fixed_code):""}
        </div>
      </div>
    </div>
  `;o.fire(H({width:960,html:F({icon:"👀",title:t.title||"View Challenge",subtitle:`Created ${new Date(t.created_at??Date.now()).toLocaleString()}`,bodyHTML:r}),confirmButtonText:"Close",customClass:{popup:"rounded-2xl !p-0 backdrop-blur-sm",confirmButton:"swal2-confirm !bg-cyan-600 hover:!bg-cyan-500 !rounded-lg !px-4 !py-2"},didOpen:()=>{document.querySelectorAll(".neo-copy").forEach(s=>{s.addEventListener("click",()=>{var i;const a=s.getAttribute("data-target"),g=((i=document.getElementById(a))==null?void 0:i.innerText)??"";navigator.clipboard.writeText(g);const b=s.textContent;s.textContent="Copied",setTimeout(()=>s.textContent=b,900)})})}}))},Fe=(t,l)=>{const r=l==="solo",s=`
    <div class="grid grid-cols-1 md:grid-cols-12 gap-3">
      <div class="md:col-span-7 space-y-3">
        <div class="rounded-lg border border-white/10 bg-white/5 p-3">
          <label for="f_title" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Title</label>
          <input id="f_title" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2" value="${d(t.title)}" />
        </div>

        <div class="rounded-lg border border-white/10 bg-white/5 p-3">
          <label for="f_desc" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Description</label>
          <textarea id="f_desc" rows="3" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2">${d(t.description??"")}</textarea>
        </div>

        <div class="rounded-lg border border-white/10 bg-white/5 p-3">
          <div class="grid grid-cols-2 gap-2">
            <div>
              <label for="f_lang" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Language</label>
              <select id="f_lang" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2">
                <option value="python" ${t.language==="python"?"selected":""}>Python</option>
                <option value="java" ${t.language==="java"?"selected":""}>Java</option>
                <option value="cpp"    ${t.language==="cpp"?"selected":""}>C++</option>
              </select>
            </div>
            <div>
              <label for="f_diff" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Difficulty</label>
              <select id="f_diff" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2">
                <option value="easy" ${t.difficulty==="easy"?"selected":""}>Easy</option>
                <option value="medium" ${t.difficulty==="medium"?"selected":""}>Medium</option>
                <option value="hard" ${t.difficulty==="hard"?"selected":""}>Hard</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <div class="md:col-span-5 space-y-3">
        <div class="rounded-lg border border-white/10 bg-white/5 p-3">
          <label for="f_bug" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Buggy Code</label>
         <textarea id="f_bug" rows="7" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2 font-mono text-[12px] leading-[1.35] text-left">${d(t.buggy_code??"")}</textarea>

        </div>

        <div class="rounded-lg border border-white/10 bg-white/5 p-3">
          <label for="f_fix" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Fixed Code</label>
         <textarea id="f_fix" rows="7" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2 font-mono text-[12px] leading-[1.35] text-left">${d(t.fixed_code??"")}</textarea>
        </div>
      </div>
    </div>
  `;o.fire(H({width:960,html:F({icon:"✏️",title:"Edit Challenge",subtitle:t.title?`Editing “${t.title}”`:"Update fields below",bodyHTML:s}),showCancelButton:!0,confirmButtonText:"Save",customClass:{popup:"rounded-2xl !p-0 backdrop-blur-sm",confirmButton:"swal2-confirm !bg-emerald-600 hover:!bg-emerald-500 !rounded-lg !px-4 !py-2",cancelButton:"swal2-cancel !bg-white/10 hover:!bg-white/20 !text-white !rounded-lg !px-4 !py-2",actions:"!px-5 !pb-4"},focusConfirm:!1,preConfirm:()=>{const a=b=>{var i,f;return((f=(i=document.getElementById(b))==null?void 0:i.value)==null?void 0:f.trim())??""},g={title:a("f_title"),description:a("f_desc"),language:a("f_lang"),difficulty:a("f_diff"),buggy_code:a("f_bug"),fixed_code:a("f_fix")};return r&&(g.mode="fixbugs",g.hint=null),g.title?g:(o.showValidationMessage("Title is required"),!1)}})).then(a=>{a.isConfirmed&&Me(t.id,a.value,j||l)})},Le=t=>{const l=t==="solo";o.fire(H({width:960,html:F({icon:"✨",title:`Create ${l?"Solo":"1v1"} Challenge`,bodyHTML:`
    <div class="grid grid-cols-1 md:grid-cols-12 gap-3">
      <div class="md:col-span-7 space-y-3">
        <div class="rounded-lg border border-white/10 bg-white/5 p-3">
          <label for="c_title" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Title</label>
          <input id="c_title" placeholder="Awesome challenge name" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2" />
        </div>

        <div class="rounded-lg border border-white/10 bg-white/5 p-3">
          <label for="c_desc" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Description</label>
          <textarea id="c_desc" rows="3" placeholder="Short description..." class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2"></textarea>
        </div>

        <div class="rounded-lg border border-white/10 bg-white/5 p-3">
          <div class="grid grid-cols-2 gap-2">
            <div>
              <label for="c_lang" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Language</label>
              <select id="c_lang" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2">
                <option value="python">Python</option>
                <option value="java">Java</option>
                <option value="cpp">C++</option>
              </select>
            </div>
            <div>
              <label for="c_diff" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Difficulty</label>
              <select id="c_diff" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2">
                <option value="easy">Easy</option>
                <option value="medium">Medium</option>
                <option value="hard">Hard</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <div class="md:col-span-5 space-y-3">
        <div class="rounded-lg border border-white/10 bg-white/5 p-3">
          <label for="c_bug" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Buggy Code</label>
          <textarea id="c_bug" rows="7" placeholder="// buggy snippet here" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2 font-mono text-[12px] leading-[1.35]"></textarea>
        </div>

        <div class="rounded-lg border border-white/10 bg-white/5 p-3">
          <label for="c_fix" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Fixed Code</label>
          <textarea id="c_fix" rows="7" placeholder="// fixed snippet here" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2 font-mono text-[12px] leading-[1.35]"></textarea>
        </div>
      </div>
    </div>
  `}),showCancelButton:!0,confirmButtonText:"Create",customClass:{popup:"rounded-2xl !p-0 backdrop-blur-sm",confirmButton:"swal2-confirm !bg-emerald-600 hover:!bg-emerald-500 !rounded-lg !px-4 !py-2",cancelButton:"swal2-cancel !bg-white/10 hover:!bg-white/20 !text-white !rounded-lg !px-4 !py-2",actions:"!px-5 !pb-4"},focusConfirm:!1,preConfirm:()=>{const s=g=>{var b,i;return((i=(b=document.getElementById(g))==null?void 0:b.value)==null?void 0:i.trim())??""},a={title:s("c_title"),description:s("c_desc"),language:s("c_lang"),difficulty:s("c_diff"),buggy_code:s("c_bug"),fixed_code:s("c_fix")};return l&&(a.mode="fixbugs",a.hint=null),a.title?a:(o.showValidationMessage("Title is required"),!1)}})).then(s=>{s.isConfirmed&&Ie(s.value,j||t)})},he=(t="solo")=>{o.fire(H({width:720,html:F({icon:"🤖",title:`Generate ${t==="solo"?"Solo":"1v1"} Challenge`,subtitle:"Pick parameters, then preview before saving",bodyHTML:`
    <div class="grid grid-cols-1 md:grid-cols-12 gap-3">
      <div class="md:col-span-12 space-y-3">
        <div class="rounded-lg border border-white/10 bg-white/5 p-3">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
            <div>
              <label for="g_lang" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Language</label>
              <select id="g_lang" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2">
                <option value="python">Python</option>
                <option value="java">Java</option>
                <option value="cpp">C++</option>
              </select>
            </div>
            <div>
              <label for="g_diff" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Difficulty</label>
              <select id="g_diff" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2">
                <option value="easy">Easy</option>
                <option value="medium">Medium</option>
                <option value="hard">Hard</option>
              </select>
            </div>
            <div>
              <label for="g_topic" class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Topic (optional)</label>
              <input id="g_topic" placeholder="e.g., arrays, file handling, STL" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2" />
            </div>
          </div>
        </div>
      </div>
    </div>
  `}),showCancelButton:!0,confirmButtonText:"Generate",customClass:{popup:"rounded-2xl !p-0 backdrop-blur-sm",confirmButton:"swal2-confirm !bg-indigo-600 hover:!bg-indigo-500 !rounded-lg !px-4 !py-2",cancelButton:"swal2-cancel !bg-white/10 hover:!bg-white/20 !text-white !rounded-lg !px-4 !py-2",actions:"!px-5 !pb-4"},focusConfirm:!1,preConfirm:()=>{const r=b=>{var i,f;return((f=(i=document.getElementById(b))==null?void 0:i.value)==null?void 0:f.trim())??""},s=r("g_lang"),a=r("g_diff"),g=r("g_topic");return!s||!a?(o.showValidationMessage("Language and difficulty are required"),!1):{language:s,difficulty:a,topic:g||null}}})).then(async r=>{if(!r.isConfirmed)return;const{language:s,difficulty:a,topic:g}=r.value,b=t==="solo"?"/admin/api/challenges/solo/generate":"/admin/api/challenges/1v1/generate";o.fire({title:"",html:`
          <div class="flex flex-col items-center justify-center space-y-3 py-6">
            <div class="animate-spin rounded-full h-12 w-12 border-t-4 border-cyan-400 border-opacity-70"></div>
            <p class="text-white text-sm font-medium">Generating challenge…</p>
            <p class="text-xs text-gray-400">This may take a few seconds</p>
          </div>
        `,allowOutsideClick:!1,allowEscapeKey:!1,background:"#0f172a",showConfirmButton:!1,customClass:{popup:"rounded-2xl border border-cyan-500/20 backdrop-blur-md"}});let i;try{i=await N.post(b,{language:s,difficulty:a,topic:g})}finally{o.close()}if(!(i!=null&&i.success)){o.fire("Error",(i==null?void 0:i.message)||"Failed to generate challenge","error");return}const f=i.data||{},Ae=`
  <div class="space-y-4">
    <div class="flex flex-wrap gap-2">
      ${B("Language",O(s))}
      ${B("Difficulty",String(a).toUpperCase())}
      ${B("Mode","fixbugs")}
    </div>

    <div class="rounded-lg border border-white/10 bg-white/5 p-3">
      <label class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Title</label>
      <input id="edit_title" value="${d(f.title??"")}" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2" />
    </div>

    <div class="rounded-lg border border-white/10 bg-white/5 p-3">
      <label class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Description</label>
      <textarea id="edit_desc" rows="3" class="w-full bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2">${d(f.description??"")}</textarea>
    </div>

    <div class="rounded-lg border border-white/10 bg-white/5 p-3">
      <label class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Buggy Code</label>
      <textarea id="edit_buggy" rows="8" class="w-full font-mono bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2 leading-tight">${d(f.buggy_code??"")}</textarea>
    </div>

    <div class="rounded-lg border border-white/10 bg-white/5 p-3">
      <label class="block text-[10px] uppercase tracking-wide opacity-70 mb-1">Fixed Code</label>
      <textarea id="edit_fixed" rows="8" class="w-full font-mono bg-slate-950/70 border border-white/15 rounded-lg text-slate-100 px-3 py-2 leading-tight">${d(f.fixed_code??"")}</textarea>
    </div>
  </div>
`;o.fire(H({width:960,html:F({icon:"🧪",title:"Edit & Save Generated Challenge",subtitle:"You can modify before saving",bodyHTML:Ae}),showCancelButton:!0,confirmButtonText:`Save to ${t==="solo"?"Solo":"1v1"}`,focusConfirm:!1,customClass:{popup:"rounded-2xl !p-0 backdrop-blur-sm",confirmButton:"swal2-confirm !bg-emerald-600 hover:!bg-emerald-500 !rounded-lg !px-4 !py-2",cancelButton:"swal2-cancel !bg-white/10 hover:!bg-white/20 !text-white !rounded-lg !px-4 !py-2",actions:"!px-5 !pb-4"},preConfirm:()=>{const k=Q=>{var G,L;return((L=(G=document.getElementById(Q))==null?void 0:G.value)==null?void 0:L.trim())??""};return{title:k("edit_title"),description:k("edit_desc"),buggy_code:k("edit_buggy"),fixed_code:k("edit_fixed")}}})).then(async k=>{if(!k.isConfirmed)return;const Q=k.value,G=t==="solo"?"/admin/challenges/api/challenges/solo":"/admin/challenges/api/challenges/1v1",L={...Q,language:s,difficulty:a,hint:null};t==="solo"&&(L.mode="fixbugs");const S=await N.post(G,L);S!=null&&S.success?(o.fire("Saved!",`AI-generated challenge saved to ${t==="solo"?"Solo":"1v1"}.`,"success"),D()):o.fire("Error",(S==null?void 0:S.message)||"Failed to save challenge","error")})})},Me=async(t,l,r)=>{const s=r==="solo"?"/api/challenges/solo":"/api/challenges/1v1",a=await N.put(`${s}/${t}`,l);a!=null&&a.success?(o.fire("Saved!","Challenge updated.","success"),D()):o.fire("Error",(a==null?void 0:a.message)||"Update failed","error")},Ie=async(t,l)=>{const r=l==="solo"?"/admin/challenges/api/challenges/solo":"/admin/challenges/api/challenges/1v1",s=await N.post(r,t);s!=null&&s.success?(o.fire("Created!","Challenge created.","success"),D()):o.fire("Error",(s==null?void 0:s.message)||"Create failed","error")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-950 relative",children:e.jsxs(Ue,{breadcrumbs:Ge,children:[e.jsx(Je,{title:"Challenge Management"}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsx("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-r from-blue-600/20 to-indigo-600/10 p-4 backdrop-blur",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-white/10 border border-white/10",children:e.jsx(I,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white leading-tight",children:"Challenge Management"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Create, curate, and manage coding challenges"})]})]}),e.jsx("div",{className:"flex items-center gap-2"})]})}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-2 backdrop-blur-sm",children:e.jsx("div",{className:"flex gap-2",children:[{key:"solo",icon:M,label:"Solo",total:v==null?void 0:v.total_solo_challenges},{key:"1v1",icon:A,label:"1v1",total:v==null?void 0:v.total_1v1_challenges}].map(t=>{const l=t.icon,r=c===t.key;return e.jsxs("button",{onClick:()=>Ce(t.key),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition ${r?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg":"bg-white/5 text-gray-200 hover:bg-white/10"}`,children:[e.jsx(l,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:t.label}),e.jsx("span",{className:"bg-black/20 px-2 py-0.5 rounded-full text-xs",children:t.total??0})]},t.key)})})}),c==="solo"?e.jsxs("div",{className:"space-y-6",children:[e.jsx(_,{title:e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-5 w-5 text-blue-400"}),e.jsx("span",{className:"text-white font-semibold",children:"Training Challenges"})]}),right:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>T(!0),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-cyan-600 text-white hover:bg-cyan-500",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Import Solo"})]}),e.jsxs("button",{onClick:()=>he(),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-500",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:"Generate Solo"})]}),e.jsxs("button",{onClick:()=>ne(),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-emerald-600 text-white hover:bg-emerald-500",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{children:"Create Solo"})]})]})}),e.jsxs(_,{title:e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"h-5 w-5 text-cyan-300"}),e.jsx("span",{className:"text-white font-semibold",children:"Solo Stats"})]}),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx(u,{icon:M,label:"Python",value:x.solo.python,tone:"blue"}),e.jsx(u,{icon:M,label:"Java",value:x.solo.java,tone:"blue"}),e.jsx(u,{icon:M,label:"C++",value:x.solo.cpp,tone:"blue"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[e.jsx(u,{icon:w,label:"Easy",value:x.soloDiff.easy,tone:"green"}),e.jsx(u,{icon:w,label:"Medium",value:x.soloDiff.medium,tone:"yellow"}),e.jsx(u,{icon:w,label:"Hard",value:x.soloDiff.hard,tone:"red"})]})]}),e.jsx(_,{title:e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"h-5 w-5 text-cyan-300"}),e.jsx("span",{className:"text-white font-semibold",children:"Filters"})]}),right:e.jsx("button",{onClick:()=>re(t=>!t),className:"text-xs inline-flex items-center gap-2 px-2 py-1 rounded-lg border border-white/10 text-slate-200 hover:bg-white/5",children:V?"Hide":"Show"}),children:V&&e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search challenges by title or description…",value:m,onChange:t=>U(t.target.value),className:"w-full pl-10 pr-10 py-3 bg-slate-950/60 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-gray-200 placeholder-gray-400"}),m&&e.jsx("button",{onClick:()=>U(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200","aria-label":"Clear search",children:e.jsx(R,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:$,onChange:t=>le(t.target.value),className:"px-4 py-3 bg-slate-950/60 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 text-gray-200",children:[e.jsx("option",{value:"all",children:"All Languages"}),e.jsx("option",{value:"python",children:"Python"}),e.jsx("option",{value:"java",children:"Java"}),e.jsx("option",{value:"cpp",children:"C++"})]}),e.jsxs("select",{value:E,onChange:t=>se(t.target.value),className:"px-4 py-3 bg-slate-950/60 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 text-gray-200",children:[e.jsx("option",{value:"all",children:"All Difficulties"}),e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"})]})]})]})})}),e.jsx(_,{title:e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-5 w-5 text-pink-300"}),e.jsx("span",{className:"text-white font-semibold",children:"Challenges"})]}),right:e.jsx("button",{onClick:()=>oe(t=>!t),className:"text-xs inline-flex items-center gap-2 px-2 py-1 rounded-lg border border-white/10 text-slate-200 hover:bg-white/5",children:q?"Hide":"Show"}),children:q&&e.jsx("div",{className:"overflow-x-auto bg-white/5 border border-white/10 rounded-xl backdrop-blur-sm",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-950/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-cyan-400 uppercase",children:"Challenge"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-cyan-400 uppercase",children:"Language"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-cyan-400 uppercase",children:"Difficulty"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-cyan-400 uppercase",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-cyan-400 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-white/10",children:J?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(ee,{className:"h-5 w-5 animate-spin mr-2 text-cyan-400"}),"Loading challenges…"]})})}):p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:m?`No challenges found matching “${m}”`:"No challenges found"})}):p.map(t=>(ge(t.mode||""),e.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"max-w-xl",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:t.title}),t.description&&e.jsx("div",{className:"text-xs text-gray-400 truncate",children:t.description})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full border bg-blue-500/10 text-blue-300 border-blue-500/30",children:O(t.language)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${xe(t.difficulty)}`,children:t.difficulty.toUpperCase()})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx("button",{onClick:()=>de(t),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900/20 rounded-lg transition",title:"View",children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ce(t),className:"p-2 text-emerald-400 hover:text-emerald-300 hover:bg-emerald-900/20 rounded-lg transition",title:"Edit",children:e.jsx(we,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>pe(t.id),className:"p-2 text-gray-300 hover:text-gray-100 hover:bg-gray-900/30 rounded-lg transition",title:"Download",children:e.jsx(Ne,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ie(t.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition",title:"Delete",children:e.jsx(je,{className:"h-4 w-4"})})]})})]},t.id)))})]})})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(_,{title:e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-5 w-5 text-purple-400"}),e.jsx("span",{className:"text-white font-semibold",children:"1v1 Challenges"})]}),right:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>T(!0),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-cyan-600 text-white hover:bg-cyan-500",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Import 1v1"})]}),e.jsxs("button",{onClick:()=>he(c),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-500",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:"Generate 1v1"})]}),e.jsxs("button",{onClick:()=>ne(),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-emerald-600 text-white hover:bg-emerald-500",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{children:"Create 1v1"})]})]})}),e.jsxs(_,{title:e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"h-5 w-5 text-purple-300"}),e.jsx("span",{className:"text-white font-semibold",children:"1v1 Stats"})]}),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx(u,{icon:A,label:"Python",value:x.v1.python,tone:"purple"}),e.jsx(u,{icon:A,label:"Java",value:x.v1.java,tone:"purple"}),e.jsx(u,{icon:A,label:"C++",value:x.v1.cpp,tone:"purple"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[e.jsx(u,{icon:w,label:"Easy",value:x.v1Diff.easy,tone:"green"}),e.jsx(u,{icon:w,label:"Medium",value:x.v1Diff.medium,tone:"yellow"}),e.jsx(u,{icon:w,label:"Hard",value:x.v1Diff.hard,tone:"red"})]})]}),e.jsx(_,{title:e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"h-5 w-5 text-cyan-300"}),e.jsx("span",{className:"text-white font-semibold",children:"Filters"})]}),right:e.jsx("button",{onClick:()=>re(t=>!t),className:"text-xs inline-flex items-center gap-2 px-2 py-1 rounded-lg border border-white/10 text-slate-200 hover:bg-white/5",children:V?"Hide":"Show"}),children:V&&e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search challenges by title or description…",value:m,onChange:t=>U(t.target.value),className:"w-full pl-10 pr-10 py-3 bg-slate-950/60 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-gray-200 placeholder-gray-400"}),m&&e.jsx("button",{onClick:()=>U(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200","aria-label":"Clear search",children:e.jsx(R,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:$,onChange:t=>le(t.target.value),className:"px-4 py-3 bg-slate-950/60 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 text-gray-200",children:[e.jsx("option",{value:"all",children:"All Languages"}),e.jsx("option",{value:"python",children:"Python"}),e.jsx("option",{value:"java",children:"Java"}),e.jsx("option",{value:"cpp",children:"C++"})]}),e.jsxs("select",{value:E,onChange:t=>se(t.target.value),className:"px-4 py-3 bg-slate-950/60 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 text-gray-200",children:[e.jsx("option",{value:"all",children:"All Difficulties"}),e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"})]})]})]})})}),e.jsx(_,{title:e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-5 w-5 text-pink-300"}),e.jsx("span",{className:"text-white font-semibold",children:"Challenges"})]}),right:e.jsx("button",{onClick:()=>oe(t=>!t),className:"text-xs inline-flex items-center gap-2 px-2 py-1 rounded-lg border border-white/10 text-slate-200 hover:bg-white/5",children:q?"Hide":"Show"}),children:q&&e.jsx("div",{className:"overflow-x-auto bg-white/5 border border-white/10 rounded-xl backdrop-blur-sm",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-950/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-cyan-400 uppercase",children:"Challenge"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-cyan-400 uppercase",children:"Language"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-cyan-400 uppercase",children:"Difficulty"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-cyan-400 uppercase",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-cyan-400 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-white/10",children:J?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(ee,{className:"h-5 w-5 animate-spin mr-2 text-cyan-400"}),"Loading challenges…"]})})}):p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:m?`No challenges found matching “${m}”`:"No challenges found"})}):p.map(t=>(ge(t.mode||""),e.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"max-w-xl",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:t.title}),t.description&&e.jsx("div",{className:"text-xs text-gray-400 truncate",children:t.description})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full border bg-blue-500/10 text-blue-300 border-blue-500/30",children:O(t.language)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${xe(t.difficulty)}`,children:t.difficulty.toUpperCase()})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx("button",{onClick:()=>de(t),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900/20 rounded-lg transition",title:"View",children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ce(t),className:"p-2 text-emerald-400 hover:text-emerald-300 hover:bg-emerald-900/20 rounded-lg transition",title:"Edit",children:e.jsx(we,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>pe(t.id),className:"p-2 text-gray-300 hover:text-gray-100 hover:bg-gray-900/30 rounded-lg transition",title:"Download",children:e.jsx(Ne,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ie(t.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition",title:"Delete",children:e.jsx(je,{className:"h-4 w-4"})})]})})]},t.id)))})]})})})]}),Se&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-gray-800/90 border border-gray-700/50 rounded-xl w-full max-w-2xl",children:[e.jsxs("div",{className:"bg-gradient-to-r from-cyan-600 to-blue-600 px-6 py-4 flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[e.jsx(z,{className:"h-5 w-5 mr-2"}),"Import ",c==="solo"?"Solo":"1v1"," Challenges"]}),e.jsx("button",{onClick:()=>{T(!1),P([])},className:"text-white hover:text-gray-200",children:e.jsx(R,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:De,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Language"}),e.jsxs("select",{value:K,onChange:t=>$e(t.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-600 text-gray-200 rounded-lg focus:ring-2 focus:ring-cyan-500",children:[e.jsx("option",{value:"python",children:"Python"}),e.jsx("option",{value:"java",children:"Java"}),e.jsx("option",{value:"cpp",children:"C++"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Difficulty"}),e.jsxs("select",{value:W,onChange:t=>Ee(t.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-600 text-gray-200 rounded-lg focus:ring-2 focus:ring-cyan-500",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upload JSON File"}),e.jsx("input",{type:"file",accept:".json",onChange:t=>t.target.files&&Te(t.target.files[0]),className:"w-full text-gray-200 bg-gray-900 border border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-cyan-500"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Upload a JSON file containing an array of challenge objects"})]}),e.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-900/60 p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-cyan-400 mb-2 flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4"})," Expected JSON Format"]}),e.jsxs("p",{className:"text-xs text-gray-300 mb-3",children:["Each JSON file should contain an ",e.jsx("strong",{children:"array of challenge objects"}),". Every object must include the following fields:"]}),c==="solo"?e.jsx("pre",{className:"text-xs bg-black/40 border border-gray-700 rounded-lg p-3 text-gray-200 font-mono overflow-x-auto",children:`[
                        {
                          "difficulty": "easy",
                          "language": "python",
                          "title": "Sum of Two Numbers",
                          "description": "The program should take two integers as input and print their sum.",
                          "buggy_code": "a = 5\\nb = 7\\nprint('Sum is:', a + b",
                          "fixed_code": "a = 5\\nb = 7\\nprint('Sum is:', a + b)",
                        }
                      ]`}):e.jsx("pre",{className:"text-xs bg-black/40 border border-gray-700 rounded-lg p-3 text-gray-200 font-mono overflow-x-auto",children:`[
                        {
                          "title": "Find Max of Two Numbers",
                          "description": "Compare two numbers and print the larger one.",
                          "language": "java",
                          "buggy_code": "if(a > b)\\n  System.out.println(a);\\nelse\\n  System.out.println(b)",
                          "fixed_code": "if(a > b) {\\n  System.out.println(a);\\n} else {\\n  System.out.println(b);\\n}"
                        }
                      ]`}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"You can export an existing challenge to see the full structure."}),C.length>0&&e.jsx("div",{className:"mt-3",children:e.jsxs("p",{className:"text-xs text-green-400",children:["✅ Loaded ",e.jsx("strong",{children:C.length})," challenges from file."]})})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{T(!1),P([])},className:"px-6 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:Z||C.length===0,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-lg hover:from-cyan-600 hover:to-blue-700 disabled:opacity-50",children:[Z?e.jsx(ee,{className:"h-4 w-4 animate-spin"}):e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:Z?"Importing…":"Import Challenges"})]})]})]})]})})]})]})})}export{gt as default};
