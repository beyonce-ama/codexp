import{K as $e,r as o,j as e,L as Xe}from"./app-CWmoR0Vo.js";import{a as M,T as Ge,C as He,b as c,A as ze}from"./app-layout-DNJdP_pA.js";import{S as p}from"./sweetalert2.esm.all-acGi8jXx.js";import{A as Ue}from"./AnimatedBackground-Bl2LMVLP.js";import{C as Y}from"./crown-DqZMRkPQ.js";import{S as B}from"./sparkles-BiK5syQR.js";import{T as De}from"./triangle-alert-BR3AGdOZ.js";import{C as Re}from"./users-CiyZBaUd.js";import{L as Ye}from"./lightbulb-DaOUlWrI.js";import{B as qe,a as Oe}from"./x-DIM-PyJL.js";import{R as ue}from"./refresh-cw-DiRB09JT.js";import{S as We}from"./send-BYHCR1tW.js";import{C as Ve}from"./cpu-Cliku_xC.js";import{T as Ze}from"./trophy-WKWmb-Ea.js";import{C as Je}from"./circle-check-big-C2Rgs_se.js";import{Z as pe}from"./zap-DunUhgte.js";import"./utils-jAU0Cazi.js";import"./createLucideIcon-7G8jz680.js";const Ke=[{title:"Home",href:"/dashboard"},{title:"Practice",href:"#"},{title:"AI Challenges",href:"/play/ai-challenges"}];function jt(){const{auth:P}=$e().props,n=P==null?void 0:P.user,[Qe,et]=o.useState(!1),[q,O]=o.useState(!1),[w,W]=o.useState(!1),[tt,V]=o.useState(!0),[g,he]=o.useState("python"),[j,fe]=o.useState("easy"),[N,ge]=o.useState(""),[ve,ye]=o.useState([]),[m,Z]=o.useState(null),[v,T]=o.useState(""),[F,J]=o.useState(null),[_,$]=o.useState(0),[C,X]=o.useState(!1),[S,G]=o.useState(!1),[h,H]=o.useState(null),[st,z]=o.useState(!1),[d,A]=o.useState(null),[k,K]=o.useState([]),[be,Q]=o.useState(!1),[we,ee]=o.useState(!1),[je,te]=o.useState(!1),[Ne,se]=o.useState(!1),[_e,ae]=o.useState(!1),[Ce,le]=o.useState(!1),[at,U]=o.useState(!1),[D,R]=o.useState(!1);o.useEffect(()=>(D?document.body.classList.add("solo-open"):document.body.classList.remove("solo-open"),()=>document.body.classList.remove("solo-open")),[D]);const E=o.useRef(),Se=async()=>{try{const t={difficulty:m==null?void 0:m.difficulty,language:g,topic:N||void 0,is_correct:!0,hint_used:C,time_spent_sec:Math.max(0,parseInt(String(_),10)||0),code_submitted:v};console.log("Sending rewards payload:",t);const a=await M.post("/api/ai-challenges/submit-attempt",t);if(console.log("Rewards API response:",a),a.success&&a.data){const s=a.data;return console.log("Backend data received:",s),A(r=>r&&{...r,total_xp:s.total_xp||r.total_xp,ai_successful_attempts:s.ai_successful_attempts||r.ai_successful_attempts,ai_attempts:s.ai_attempts||r.ai_attempts}),s.xp_earned||0}else throw console.warn("Backend response indicates failure:",a),new Error(a.message||"Backend response was not successful")}catch(t){throw console.error("Failed to apply rewards - full error:",t),t}},y=t=>Math.floor(t/10)+1,L=t=>10-t%10,re=t=>t%10/10*100,oe=t=>t%10;o.useEffect(()=>{ke(),Ae()},[g]),o.useEffect(()=>{let t;return F&&m&&(t=setInterval(()=>{$(Math.floor((Date.now()-F.getTime())/1e3))},1e3)),()=>{t&&clearInterval(t)}},[F,m]),o.useEffect(()=>{if(k.length>0){const t=()=>{K(a=>a.map(s=>({...s,x:s.x+s.vx,y:s.y+s.vy,vy:s.vy-.15,life:s.life-1,size:s.size*.99})).filter(s=>s.life>0)),k.length>0&&(E.current=requestAnimationFrame(t))};E.current=requestAnimationFrame(t)}return()=>{E.current&&cancelAnimationFrame(E.current)}},[k.length]);const Ae=async()=>{var t,a;try{V(!0);const s=await M.get("/api/me/stats");if(s.success&&s.data){const r=s.data,i=((t=r.totals)==null?void 0:t.xp)||0,u=r.ai_stats||{};A({ai_attempts:u.ai_attempts||r.ai_attempts||0,ai_successful_attempts:u.ai_successful_attempts||r.ai_successful_attempts||0,total_xp:i,total_stars:((a=r.totals)==null?void 0:a.stars)||0,current_level:y(i),xp_to_next_level:L(i),streak:r.streak||0})}else console.warn("Failed to fetch stats:",s.message),A({ai_attempts:(n==null?void 0:n.ai_attempts)||0,ai_successful_attempts:(n==null?void 0:n.ai_successful_attempts)||0,total_xp:(n==null?void 0:n.total_xp)||0,total_stars:0,current_level:y((n==null?void 0:n.total_xp)||0),xp_to_next_level:L((n==null?void 0:n.total_xp)||0),streak:0})}catch(s){console.error("Error fetching user stats:",s),A({ai_attempts:(n==null?void 0:n.ai_attempts)||0,ai_successful_attempts:(n==null?void 0:n.ai_successful_attempts)||0,total_xp:(n==null?void 0:n.total_xp)||0,total_stars:0,current_level:y((n==null?void 0:n.total_xp)||0),xp_to_next_level:L((n==null?void 0:n.total_xp)||0),streak:0})}finally{V(!1)}},ne=(t,a,s="success")=>{const r={success:["#10B981","#34D399","#6EE7B7","#FBBF24","#F59E0B"],levelup:["#8B5CF6","#A78BFA","#C4B5FD","#F59E0B","#FBBF24"],streak:["#EF4444","#F87171","#FCA5A5","#FBBF24","#F59E0B"]},i=[],u=s==="levelup"?25:15;for(let l=0;l<u;l++){const x=Math.PI*2*l/u,f=Math.random()*8+4;i.push({id:Date.now()+l,x:t+(Math.random()-.5)*50,y:a+(Math.random()-.5)*30,vx:Math.cos(x)*f+(Math.random()-.5)*2,vy:Math.sin(x)*f-Math.random()*3,life:80+Math.random()*40,maxLife:80,color:r[s][Math.floor(Math.random()*r[s].length)],size:Math.random()*6+3,type:s})}K(l=>[...l,...i])},ke=async()=>{try{const t=await M.get("/api/ai-challenges/topics",{language:g});t.success&&t.data&&ye(t.data)}catch(t){console.error("Error fetching topics:",t)}},Ee=async()=>{try{O(!0),c.play("click");const t={language:g,difficulty:j};N&&(t.topic=N);const a=await M.post("/api/ai-challenges/generate",t);if(a.success&&a.data){const s={...a.data,language:g,difficulty:j};Z(s),T(a.data.buggy_code||""),J(new Date),$(0),X(!1),G(!1),H(null),z(!1),U(!1),c.play("success"),R(!0),p.fire({icon:"success",title:"Challenge Generated!",text:"Your AI-generated challenge is ready. Good luck!",timer:2e3,showConfirmButton:!1,background:"#1f2937",color:"#fff"})}else throw new Error(a.message||"Failed to generate challenge")}catch(t){console.error("Error generating challenge:",t),c.play("failure"),p.fire({icon:"error",title:"Generation Failed",text:t instanceof Error?t.message:"Unable to generate challenge. Please try again.",background:"#1f2937",color:"#fff"})}finally{O(!1)}},ie=()=>{R(!1),Pe()},Le=async()=>{!(m!=null&&m.fixed_code)||!(await p.fire({icon:"warning",title:"Surrender & Show Answer?",html:'<p class="text-gray-200">You will NOT receive any rewards for this challenge.</p>',showCancelButton:!0,confirmButtonText:"Yes, show the answer",cancelButtonText:"Cancel",background:"#1f2937",color:"#fff",confirmButtonColor:"#ef4444"})).isConfirmed||(U(!0),c.play("click"),await p.fire({title:"AI Generated Solution",html:`
                <div class="correct-answer-modal">
                    <p class="mb-4 text-gray-300">No rewards granted for surrendered challenges.</p>
                    <div class="bg-gray-900 rounded-lg p-4 text-left">
                        <pre class="text-green-400 text-sm overflow-auto max-h-64" style="font-family: 'Courier New', monospace; white-space: pre-wrap;">${m.fixed_code}</pre>
                    </div>
                </div>
            `,confirmButtonText:"Close",background:"#1f2937",color:"#fff",confirmButtonColor:"#10B981",width:"600px"}),ie())},ce=(t,a)=>{const s=t.length,r=a.length;if(s===0)return r===0?1:0;if(r===0)return 0;const i=Array(r+1).fill(null).map(()=>Array(s+1).fill(null));for(let l=0;l<=s;l++)i[0][l]=l;for(let l=0;l<=r;l++)i[l][0]=l;for(let l=1;l<=r;l++)for(let x=1;x<=s;x++)t[x-1]===a[l-1]?i[l][x]=i[l-1][x-1]:i[l][x]=Math.min(i[l-1][x]+1,i[l][x-1]+1,i[l-1][x-1]+1);const u=Math.max(s,r);return(u-i[r][s])/u},Ie=(t,a)=>{var me,xe;const s=t.trim(),r=(me=a.fixed_code)==null?void 0:me.trim();if(!s)return console.log("AI Challenge validation: FAIL - No code provided"),!1;if(!r)return console.log("AI Challenge validation: FAIL - No solution available"),!1;if(s===((xe=a.buggy_code)==null?void 0:xe.trim()))return console.log("AI Challenge validation: FAIL - No changes made from original buggy code"),!1;if(s.length<20)return console.log("AI Challenge validation: FAIL - Code too short (minimum 20 characters)"),!1;const i=Fe=>Fe.replace(/\r\n/g,`
`).replace(/\s+/g," ").replace(/\s*;\s*/g,";").replace(/\s*\{\s*/g,"{").replace(/\s*\}\s*/g,"}").replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/\s*==\s*/g,"==").replace(/\s*=\s*/g,"=").trim(),u=i(s),l=i(r);if(u===l)return console.log("AI Challenge validation: PASS - Exact match with AI solution (100%)"),!0;const f=ce(u,l),b=Math.round(f*100);console.log(`AI Challenge validation: FAIL - Only ${b}% similarity with AI solution (requires 100%)`);const de=f>=1;return console.log(`AI Challenge validation: ${de?"PASS":"FAIL"} (${b}% similarity, requires 100%)`),de},Me=async()=>{if(!m||!v.trim()){c.play("failure"),p.fire("Error","Please write some code before submitting.","error");return}try{W(!0),c.play("typing");const t=Ie(v,m),a=ce(v.trim().replace(/\s+/g," "),m.fixed_code.trim().replace(/\s+/g," "));if(H({isCorrect:t,similarity:a}),G(!0),t)try{const s=await Se(),r=(d==null?void 0:d.total_xp)||0,i=r+s,u=y(r),l=y(i),x=l>u;c.play("success"),ee(!0),se(!0),ae(!0),le(!0),setTimeout(()=>le(!1),2e3);const f=window.innerWidth/2,b=window.innerHeight/2;ne(f,b,"success"),x&&setTimeout(()=>{c.play("levelup"),Q(!0),ne(f,b-100,"levelup")},1e3),setTimeout(()=>{c.play("victory")},500),await p.fire({title:"AI CHALLENGE MASTERED!",html:`
                            <div class="text-center">
                            <div class="text-5xl mb-4">ü§ñüèÜ</div>
                            <p class="mb-3 text-lg font-semibold text-cyan-200">
                                Exceptional! You've conquered this AI-generated challenge!
                            </p>
                            
                            <div class="bg-blue-900/30 border border-blue-500/40 rounded-lg p-4 mb-4">
                                <div class="text-2xl font-bold text-green-400">100% Perfect Match</div>
                                <div class="text-sm text-gray-200 opacity-80">AI Solution Mastery!</div>
                            </div>

                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <div class="bg-gray-900/40 rounded-lg p-3">
                                <div class="text-lg font-bold text-yellow-300">+${s.toFixed(1)}</div>
                                <div class="text-xs text-gray-300">XP Earned</div>
                                </div>
                                <div class="bg-gray-900/40 rounded-lg p-3">
                                <div class="text-lg font-bold text-purple-300">Level ${l}</div>
                                <div class="text-xs text-gray-300">Current Level</div>
                                </div>
                            </div>

                            <div class="text-sm text-gray-300">
                                ‚è±Ô∏è Completed in ${Math.floor(_/60)}m ${_%60}s
                            </div>

                            ${x?`
                                <div class="mt-4 text-center">
                                <div class="text-lg font-bold text-pink-400 animate-pulse">‚ú® LEVEL UP! ‚ú®</div>
                                <p class="text-sm text-gray-200">
                                    You've reached Level ${l}! 
                                    Next: ${L(i)} XP needed.
                                </p>
                                </div>
                            `:""}
                            </div>
                        `,timer:6e3,timerProgressBar:!0,showConfirmButton:!0,confirmButtonText:"Generate New Challenge!",background:"linear-gradient(135deg, #1e3a8a 0%, #312e81 100%)",color:"#fff",confirmButtonColor:"#10B981"}),ie(),setTimeout(()=>{ee(!1),se(!1),Q(!1),ae(!1)},7e3)}catch(s){console.error("Reward application failed:",s),c.play("failure"),p.fire({icon:"warning",title:"Completed but rewards failed",text:"Challenge completed but there was an issue applying rewards. Please check your connection and try again.",background:"#1f2937",color:"#fff"})}else c.play("failure"),te(!0),setTimeout(()=>te(!1),600),await p.fire({title:"Almost There!",html:`
                        <div class="text-center">
                        <div class="text-5xl mb-4">‚ö†Ô∏è</div>
                        <p class="mb-3 text-lg font-semibold text-red-200">
                            Your solution must exactly match the AI-generated answer.
                        </p>
                        
                        <div class="bg-red-900/30 border border-red-500/40 rounded-lg p-4 mb-4">
                            <div class="text-lg font-bold text-yellow-300">${Math.round(a*100)}% Match</div>
                            <div class="text-sm text-gray-200 opacity-80">Need 100% for Success</div>
                        </div>

                        <div class="bg-gray-900/40 rounded-lg p-3 text-left text-sm text-gray-200">
                            <div class="font-medium text-yellow-400 mb-1">üí° Tips:</div>
                            <ul class="list-disc list-inside space-y-1">
                            <li>Ensure your code is at least 20 characters long</li>
                            <li>Don't just copy the buggy version</li>
                            <li>Whitespace, symbols & punctuation matter</li>
                            </ul>
                        </div>
                        </div>
                    `,timer:4500,showConfirmButton:!0,confirmButtonText:"Try Again",background:"linear-gradient(135deg, #1e3a8a 0%, #312e81 100%)",color:"#fff",confirmButtonColor:"#3B82F6"})}catch(t){console.error("Error submitting solution:",t),c.play("failure");let a="Failed to submit your solution. Please try again.";t instanceof Error&&(a=t.message),p.fire("Error",a,"error")}finally{W(!1)}},Be=()=>{m!=null&&m.fixed_code&&(c.play("click"),z(!0),p.fire({title:"AI Generated Solution",html:`
                    <div class="correct-answer-modal">
                        <p class="mb-4 text-gray-300">Here's the AI-generated solution (100% match required):</p>
                        <div class="bg-gray-900 rounded-lg p-4 text-left">
                            <pre class="text-green-400 text-sm overflow-auto max-h-64" style="font-family: 'Courier New', monospace; white-space: pre-wrap;">${m.fixed_code}</pre>
                        </div>
                        <p class="mt-4 text-sm text-gray-400">Your code must match this exactly to pass the challenge.</p>
                    </div>
                `,confirmButtonText:"Got it!",background:"#1f2937",color:"#fff",confirmButtonColor:"#10B981",width:"600px"}))},Pe=()=>{c.play("click"),Z(null),T(""),J(null),$(0),X(!1),G(!1),H(null),z(!1),U(!1),R(!1)},Te=t=>{const a=Math.floor(t/60),s=t%60;return`${a}:${s.toString().padStart(2,"0")}`},I=({title:t,value:a,icon:s,color:r,animated:i=!1})=>e.jsx("div",{className:`
                bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-4 
                ${i?"animate-pulse glow-effect":""} 
                hover:scale-105 hover:shadow-xl transition-all duration-300 
                ${_e?"glow-success":""}
                cursor-pointer
            `,onMouseEnter:()=>c.play("hover"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${r} transition-all duration-300`,children:e.jsx(s,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400",children:t}),e.jsx("p",{className:"text-lg font-bold text-white",children:a})]})]})});return e.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[e.jsx(Ue,{}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-purple-400 rounded-full animate-ping opacity-20"}),e.jsx("div",{className:"absolute top-1/3 right-1/4 w-1 h-1 bg-cyan-400 rounded-full animate-pulse opacity-30"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-3 h-3 bg-pink-400 rounded-full animate-bounce opacity-10"}),k.map(t=>e.jsx("div",{className:"absolute pointer-events-none particle-effect",style:{left:`${t.x}px`,top:`${t.y}px`,backgroundColor:t.color,width:`${t.size}px`,height:`${t.size}px`,borderRadius:"50%",opacity:t.life/t.maxLife,boxShadow:`0 0 ${t.size}px ${t.color}`}},t.id))]}),be&&e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-900/80 to-pink-900/80 backdrop-blur-md z-50 flex items-center justify-center animate-fadeIn",children:e.jsxs("div",{className:"text-center text-white animate-bounceIn levelup-container",children:[e.jsxs("div",{className:"crown-animation mb-6",children:[e.jsx(Y,{className:"w-24 h-24 mx-auto text-yellow-400 animate-spin-slow"}),e.jsx("div",{className:"crown-glow"})]}),e.jsx("h2",{className:"text-8xl font-bold mb-4 bg-gradient-to-r from-yellow-400 via-pink-400 to-purple-400 bg-clip-text text-transparent animate-pulse",children:"LEVEL UP!"}),e.jsxs("p",{className:"text-3xl opacity-90 animate-slideInUp",children:["You reached Level ",d==null?void 0:d.current_level,"!"]}),e.jsx("div",{className:"mt-6 animate-slideInUp delay-300",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/20 px-6 py-3 rounded-full backdrop-blur-sm",children:[e.jsx(B,{className:"w-5 w-5 text-yellow-400"}),e.jsxs("span",{className:"text-lg font-semibold",children:["Only ",d==null?void 0:d.xp_to_next_level," XP to next level!"]}),e.jsx(B,{className:"w-5 w-5 text-yellow-400"})]})})]})}),D&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-50 flex items-center justify-center p-4 animate-fadeIn",children:e.jsxs("div",{className:"bg-gray-900/95 border border-gray-700/50 rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-t-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[e.jsx(Ge,{className:"h-6 w-6 mr-2"}),m.title]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[e.jsx(He,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:Te(_)})]}),e.jsxs("button",{onClick:Le,className:"flex items-center space-x-2 px-4 py-2 bg-red-600/80 text-white rounded-lg hover:bg-red-600 transition-colors",onMouseEnter:()=>c.play("hover"),children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:"Surrender & Show Answer"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/80",children:"Language"}),e.jsx("div",{className:"text-lg font-bold text-white",children:g.toUpperCase()})]}),e.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/80",children:"Difficulty"}),e.jsx("div",{className:"text-lg font-bold capitalize",children:j})]}),e.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/80",children:"Reward"}),e.jsx("div",{className:"text-xs text-white/80",children:C?"Hint used (-0.5 XP)":"No hint bonus"})]})]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-cyan-400 font-bold mb-3 flex items-center",children:[e.jsx(Re,{className:"h-5 w-5 mr-2"}),"Challenge Description"]}),e.jsx("p",{className:"text-gray-200 leading-relaxed",children:m.description})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-yellow-400 font-bold flex items-center",children:[e.jsx(Ye,{className:"h-5 w-5 mr-2"}),"Hint"]}),!C&&e.jsx("button",{onClick:()=>{X(!0),c.play("click")},className:"px-3 py-1 bg-yellow-600/20 text-yellow-300 rounded-lg text-sm hover:bg-yellow-600/30 transition-colors",onMouseEnter:()=>c.play("hover"),children:"Show Hint"})]}),C?e.jsx("p",{className:"text-yellow-200",children:m.hint}):e.jsx("p",{className:"text-gray-400 italic",children:'Click "Show Hint" if you need help but it will less your xp rewards'})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:[e.jsx("h3",{className:"text-cyan-400 font-bold mb-3",children:"Your Solution"}),e.jsx("textarea",{value:v,onChange:t=>T(t.target.value),className:"w-full h-96 p-4 bg-gray-900 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-200 font-mono text-sm resize-none transition-all duration-300",placeholder:"Fix the bugs in this code..."}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[S&&!(h!=null&&h.isCorrect)&&e.jsxs("button",{onClick:Be,disabled:w,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 disabled:opacity-50 transition-all duration-300 font-medium shadow-lg hover:scale-105",onMouseEnter:()=>c.play("hover"),children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx("span",{children:"Show AI Solution"})]}),S&&h&&e.jsx("div",{className:"text-sm text-gray-400",children:h.isCorrect?e.jsx("span",{className:"text-green-400 font-medium",children:"‚úÖ Perfect 100% match!"}):e.jsxs("span",{className:"text-yellow-400 font-medium",children:["üìä ",Math.round(h.similarity*100),"% similarity (need 100%)"]})})]}),e.jsx("div",{className:"flex items-center space-x-3",children:(!S||!(h!=null&&h.isCorrect))&&e.jsxs("button",{onClick:Me,disabled:w||!v.trim(),className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-lg hover:from-green-600 hover:to-blue-700 disabled:opacity-50 transition-all duration-300 font-medium shadow-lg hover:scale-105",onMouseEnter:()=>c.play("hover"),children:[w?e.jsx(ue,{className:"h-5 w-5 animate-spin"}):e.jsx(We,{className:"h-5 w-5"}),e.jsx("span",{children:w?"Submitting...":S?"Try Again":"Submit Solution"})]})})]})]})]})})]})}),e.jsxs(ze,{breadcrumbs:Ke,children:[e.jsx(Xe,{title:"AI Generated Challenges"}),e.jsxs("div",{className:`flex flex-col gap-6 p-4 relative z-10 ${je?"animate-shake":""}`,children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:`h-8 w-8 text-purple-400 ${Ne?"animate-spin":""} transition-all duration-300`}),e.jsx(B,{className:"h-6 w-6 text-yellow-400"}),e.jsx(Ve,{className:"h-8 w-8 text-cyan-400"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"AI CHALLENGES"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Unique coding challenges created by artificial intelligence"})]})]})}),d&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y,{className:"h-6 w-6 text-yellow-400"}),e.jsxs("span",{className:"text-xl font-bold text-white",children:["Level ",d.current_level]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["(",oe(d.total_xp),"/10 XP)"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-gray-400 text-sm",children:"Next Level"}),e.jsxs("div",{className:"text-cyan-400 font-bold",children:[d.xp_to_next_level," XP needed"]})]})]}),e.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden relative",children:[e.jsx("div",{className:`bg-gradient-to-r from-purple-500 via-pink-500 to-cyan-500 h-4 rounded-full transition-all duration-1000 ease-out progress-bar-glow ${Ce?"animate-pulse":""}`,style:{width:`${re(d.total_xp)}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full animate-pulse"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-bold text-white drop-shadow-lg",children:[Math.round(re(d.total_xp)),"%"]})})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-2",children:[e.jsxs("span",{children:["Level ",d.current_level]}),e.jsxs("span",{children:[oe(d.total_xp)," / 10 XP"]}),e.jsxs("span",{children:["Level ",d.current_level+1]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(I,{title:"Level",value:d.current_level,icon:Y,color:"bg-orange-500"}),e.jsx(I,{title:"Total XP",value:d.total_xp||0,icon:Ze,color:"bg-yellow-500"}),e.jsx(I,{title:"AI Completed",value:d.ai_successful_attempts||0,icon:Je,color:"bg-purple-500",animated:we}),e.jsx(I,{title:"Streak",value:d.streak||0,icon:pe,color:"bg-cyan-500"})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto w-full",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(pe,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Generate Your AI Challenge"}),e.jsx("p",{className:"text-gray-400",children:"Configure your preferences and let AI create a unique coding challenge"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Programming Language"}),e.jsxs("select",{value:g,onChange:t=>he(t.target.value),className:"w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 text-gray-200 transition-all duration-300",onMouseEnter:()=>c.play("hover"),children:[e.jsx("option",{value:"python",children:"Python"}),e.jsx("option",{value:"java",children:"Java"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Difficulty Level"}),e.jsxs("select",{value:j,onChange:t=>fe(t.target.value),className:"w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 text-gray-200 transition-all duration-300",onMouseEnter:()=>c.play("hover"),children:[e.jsx("option",{value:"easy",children:"Easy (3.0 XP)"}),e.jsx("option",{value:"medium",children:"Medium (4.0 XP)"}),e.jsx("option",{value:"hard",children:"Hard (6.0 XP)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Topic (Optional)"}),e.jsxs("select",{value:N,onChange:t=>ge(t.target.value),className:"w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 text-gray-200 transition-all duration-300",onMouseEnter:()=>c.play("hover"),children:[e.jsx("option",{value:"",children:"Random Topic"}),ve.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:Ee,disabled:q,className:"inline-flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl hover:from-purple-600 hover:to-pink-700 disabled:opacity-50 transition-all duration-300 font-bold text-lg shadow-lg hover:scale-105",onMouseEnter:()=>c.play("hover"),children:q?e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:"Generating Challenge..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-6 w-6"}),e.jsx("span",{children:"Generate AI Challenge"})]})})})]})})]})]}),e.jsx("style",{children:`
            /* When the Solo challenge modal is open, completely hide the header */
body.solo-open header {
  opacity: 0 !important;
  pointer-events: none !important;
}


            `})]})}export{jt as default};
